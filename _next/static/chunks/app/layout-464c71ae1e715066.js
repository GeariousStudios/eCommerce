(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1175:(e,t,r)=>{Promise.resolve().then(r.bind(r,4688)),Promise.resolve().then(r.bind(r,5502)),Promise.resolve().then(r.bind(r,8500)),Promise.resolve().then(r.t.bind(r,6674,23)),Promise.resolve().then(r.t.bind(r,2226,23)),Promise.resolve().then(r.t.bind(r,4553,23))},1703:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(2115);let n=()=>{let[e,t]=(0,a.useState)(null),[r,n]=(0,a.useState)(null),[s,o]=(0,a.useState)([]),[i,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[m,u]=(0,a.useState)(""),[v,h]=(0,a.useState)(null),[x,p]=(0,a.useState)(!1),f="https://ecommerce-9jo7.onrender.com",b=localStorage.getItem("token"),g=()=>{o([]),l(""),d(""),u("")};return(0,a.useEffect)(()=>{(async()=>{try{t(!0);let e=await fetch("".concat(f,"/ping"));if(h(e.ok),!e.ok||!b){n(!1),g();return}let r=await fetch("".concat(f,"/user/check-login"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(b)}});if(!r.ok){n(!1),g();return}let a=await r.json(),s=!0===a.isLoggedIn;if(n(s),s){let e=await fetch("".concat(f,"/user/info"),{headers:{Authorization:"Bearer ".concat(b)}});if(!e.ok)return void g();let t=await e.json();o(t.roles),l(t.username),d(t.firstName),u(t.lastName)}else g()}catch(e){h(!1),n(!1),g()}finally{t(!1),p(!0)}})()},[]),{isLoggedIn:r,isAdmin:s.includes("Admin"),isDev:s.includes("Developer"),isConnected:v,isAuthReady:x,username:i,firstName:c,lastName:m}}},1972:(e,t,r)=>{"use strict";r.d(t,{$U:()=>c,$e:()=>a,Kt:()=>d,U0:()=>i,XM:()=>u,Xd:()=>l,eA:()=>s,lj:()=>m,p9:()=>n,s9:()=>o});let a="h-[40px] w-[40px] cursor-pointer rounded bg-[var(--button-primary)] p-2 font-semibold text-[var(--text-main-reverse)] transition-colors hover:bg-[var(--button-primary-hover)] hover:text-[var(--text-main)] active:bg-[var(--button-primary-active)] disabled:cursor-not-allowed disabled:opacity-25 disabled:hover:bg-[var(--button-primary)] z-[calc(var(--z-base)+1)]",n="h-[40px] w-[40px] cursor-pointer rounded border-1 border-[var(--button-secondary)] p-2 font-semibold transition-colors hover:border-[var(--button-secondary-hover)] active:border-[var(--button-secondary-active)] disabled:cursor-not-allowed disabled:opacity-25 disabled:hover:border-[var(--border-main)] z-[calc(var(--z-base)+1)]",s="h-[40px] w-[40px] cursor-pointer rounded bg-[var(--button-delete)] p-2 font-semibold text-[var(--text-main-reverse)] transition-colors hover:bg-[var(--button-delete-hover)] hover:text-[var(--text-main)] active:bg-[var(--button-delete-active)] disabled:cursor-not-allowed disabled:opacity-25 disabled:hover:bg-[var(--button-delete)] z-[calc(var(--z-base)+1)]",o="h-[40px] w-[40px] cursor-pointer rounded border-1 border-[var(--button-secondary)] p-2 font-semibold transition-colors hover:border-[var(--button-delete)] active:border-[var(--button-delete-active)] disabled:cursor-not-allowed disabled:opacity-25 disabled:hover:border-[var(--border-main)] z-[calc(var(--z-base)+1)]",i="h-[24px] w-[24px] flex items-center justify-center cursor-pointer transition-colors duration-[var(--fast)] hover:text-[var(--button-primary)] active:text-[var(--button-primary-active)] z-[calc(var(--z-base)+1)] disabled:opacity-25 disabled:hover:text-[var(--text-main)] disabled:cursor-not-allowed",l="h-[24px] w-[24px] flex items-center justify-center cursor-pointer transition-colors duration-[var(--fast)] hover:text-[var(--button-delete)] active:text-[var(--button-delete-active)] z-[calc(var(--z-base)+1)]",c="cursor-pointer font-semibold text-[var(--accent-color)] transition-[color] duration-[var(--fast)] hover:text-[var(--accent-color-hover)] z-[calc(var(--z-base)+1)]",d="h-[40px] w-[40px] flex justify-center items-center cursor-pointer bg-[var(--bg-navbar-link)] rounded-full z-[calc(var(--z-base)+1)]",m=e=>"".concat(e?"bg-[var(--accent-color)]":"bg-gray-500"," h-6 w-10 cursor-pointer rounded-full px-0.5"),u=e=>"".concat(e?"translate-x-4":"translate-x-0"," h-5 w-5 rounded-full bg-white duration-[var(--fast)]")},2226:()=>{},3107:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(5155),n=r(2115);let s=e=>{let t=(0,n.useRef)(null),[r,s]=(0,n.useState)("16rem"),o=()=>{let e=t.current;if(!e)return;let r=e.getBoundingClientRect(),a=Math.min(window.innerWidth-r.left,r.right-80,256);s("".concat(a,"px"))};return(0,n.useEffect)(()=>{if(!e.isOpen||!t.current)return;let r=requestAnimationFrame(o);return()=>cancelAnimationFrame(r)},[e.isOpen]),(0,n.useEffect)(()=>{let e=new ResizeObserver(o);return t.current&&e.observe(t.current),window.addEventListener("resize",o),()=>{e.disconnect(),window.removeEventListener("resize",o)}},[]),(0,n.useEffect)(()=>{if(!e.isOpen)return;o();let r=r=>{let a=t.current,n=e.triggerRef&&e.triggerRef.current,s=r.target;a&&!a.contains(s)&&n&&!n.contains(s)&&e.onClose()};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),()=>{document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r)}},[e.isOpen,e.onClose]),(0,a.jsx)("div",{ref:t,role:"dialog","aria-hidden":!e.isOpen,className:"".concat(e.isOpen?"visible opacity-100":"invisible opacity-0"," absolute top-full right-0 z-[calc(var(--z-tooltip)+1)] mt-1 flex flex-col gap-8 overflow-x-hidden overflow-y-auto rounded-2xl bg-[var(--bg-topbar)] p-4 break-words shadow-[0_0_16px_0_rgba(0,0,0,0.125)] transition-[opacity,visibility] duration-[var(--fast)]"),style:{width:r},children:e.children})}},4541:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(5155),n=r(7040),s=r(2115);let o=e=>{let{content:t,children:r,side:o="top",hideOnClick:i=!1,lgHidden:l=!1}=e,c=(0,s.useRef)(null),[d,m]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{if(!i)return;let e=()=>{d&&m(!1)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[d]),(0,a.jsx)(n.Kq,{delayDuration:0,skipDelayDuration:0,children:(0,a.jsxs)(n.bL,{open:d,disableHoverableContent:!0,children:[(0,a.jsx)(n.l9,{asChild:!0,onPointerEnter:e=>{"touch"!==e.pointerType&&(c.current&&clearTimeout(c.current),m(!0))},onPointerLeave:e=>{"touch"!==e.pointerType&&(c.current=setTimeout(()=>{m(!1)},0))},children:r}),(0,a.jsx)(n.ZL,{children:d&&t&&(0,a.jsxs)(n.UC,{side:o,sideOffset:3,className:"".concat(l?"lg:hidden":""," pointer-events-none z-[var(--z-tooltip)] rounded bg-[var(--bg-tooltip)] p-[0.4rem_0.6rem] text-[0.8rem] font-semibold text-[var(--text-tooltip)]"),children:[t,(0,a.jsx)(n.i3,{width:15,height:7.5,className:"pointer-events-none translate-y-[-1px] fill-[var(--bg-tooltip)]"})]})})]})})}},4553:()=>{},4688:(e,t,r)=>{"use strict";r.d(t,{default:()=>J});var a=r(5155),n=r(2115),s=r(6678),o=r(9994),i=r(1817),l=r(7572),c=r(2513),d=r(4393),m=r(5649),u=r(4853),v=r(2090),h=r(7457),x=r(824),p=r(4520),f=r(6874),b=r.n(f),g=r(5695),w=r(4541);let j=e=>{let t=(0,g.usePathname)()===e.href;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(w.A,{content:e.tooltip?e.tooltip:"",side:"right",children:(0,a.jsx)(b(),{href:e.href,className:"".concat(t?"text-[var(--accent-color)]":""," ").concat(e.disabled?"cursor-not-allowed opacity-33":""," group flex h-[40px] w-[40px] items-center justify-center gap-4 rounded-lg border-1 border-transparent p-2 transition-[background,max-width] duration-[var(--fast)] hover:bg-[var(--bg-navbar-link)] md:w-full md:max-w-full md:justify-between"),children:(0,a.jsxs)("div",{className:"flex items-center gap-4 overflow-hidden",children:[(0,a.jsxs)("span",{className:"relative flex min-h-6 min-w-6 items-center",children:[(0,a.jsx)(e.icon,{className:"".concat(t?"opacity-0":"opacity-100"," absolute transition-opacity duration-[var(--fast)] group-hover:opacity-0")}),(0,a.jsx)(e.iconHover,{className:"".concat(t?"opacity-100":"opacity-0"," absolute text-[var(--accent-color)] transition-opacity duration-[var(--fast)] group-hover:opacity-100")})]}),(0,a.jsx)("span",{className:"".concat(t?"font-semibold":""," hidden truncate md:flex"),children:e.label})]})})})})};var y=r(1703),N=r(2237);let A=e=>{let t=(0,n.useRef)(null),r=(0,n.useRef)(null),[s,o]=(0,n.useState)(!1),[i,l]=(0,n.useState)(!1),{isLoggedIn:c,isAdmin:d,isDev:m}=(0,y.A)(),u=(0,g.usePathname)(),v=e.menus.flatMap(e=>e.items).some(e=>e.href&&u.startsWith(e.href)),h=e.menus.filter(e=>(!e.requiresLogin||c)&&(!e.requiresAdmin||d)&&(!e.requiresDev||m)).length;(0,n.useEffect)(()=>{if(!s)return;let e=t.current;if(!e)return;let r=new ResizeObserver(()=>{l(e.scrollHeight>e.clientHeight)});return r.observe(e),l(e.scrollHeight>e.clientHeight),()=>{r.disconnect()}},[s]),(0,n.useEffect)(()=>{if(!s)return;let e=e=>{let a=t.current,n=r.current,s=e.target;a&&!a.contains(s)&&n&&!n.contains(s)&&o(!1)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[s]);let x="";return x=i?"w-45":"w-42",s?x+=" max-w-45":x=" max-w-0",1===h?s?i?x+=" sm:w-45 sm:max-w-45":x+=" sm:w-42 sm:max-w-42":i?x+=" sm:w-42":x+=" sm:w-45":2===h?s?i?x+=" sm:w-85 sm:max-w-85":x+=" sm:w-82 sm:max-w-82":i?x+=" sm:w-82":x+=" sm:w-85":h>=3&&(s?i?x+=" sm:w-125 sm:max-w-125":x+=" sm:w-122 sm:max-w-122":i?x+=" sm:w-122":x+=" sm:w-125"),(0,a.jsx)(a.Fragment,{children:(!e.requiresLogin||c)&&(!e.requiresAdmin||d)&&(!e.requiresDev||m)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(0,a.jsxs)("button",{ref:r,onClick:()=>{s?o(!1):o(!0)},"aria-haspopup":"true","aria-controls":"submenu-menu","aria-expanded":s,className:"".concat(s?"bg-[var(--bg-navbar-link)]":""," ").concat(v?"text-[var(--accent-color)]":""," group flex h-[40px] w-[40px] cursor-pointer items-center justify-center rounded-lg p-2 transition-colors duration-[var(--fast)] hover:bg-[var(--bg-navbar-link)] md:w-full md:justify-between"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("span",{className:"relative flex h-6 w-6 items-center",children:[(0,a.jsx)(e.icon,{className:"".concat(s||v?"opacity-0":"opacity-100"," absolute transition-opacity duration-[var(--fast)] group-hover:opacity-0")}),(0,a.jsx)(e.iconHover,{className:"".concat(s||v?"opacity-100":"opacity-0"," absolute text-[var(--accent-color)] transition-opacity duration-[var(--fast)] group-hover:opacity-100")})]}),(0,a.jsx)("span",{className:"".concat(v?"font-semibold":""," hidden truncate overflow-hidden md:flex"),children:e.label})]}),(0,a.jsx)(N.A,{className:"".concat(s?"rotate-180 text-[var(--accent-color)]":""," h-0 w-0 rotate-0 transition-[color,rotate] duration-[var(--fast)] group-hover:text-[var(--accent-color)] md:h-6 md:w-6")})]})}),(0,a.jsx)("div",{ref:t,id:"submenu-menu",inert:!s,className:" ".concat(x," ").concat(s?"visible":"invisible"," ").concat(e.hasScrollbar?"left-22 md:left-67":"left-19 md:left-64"," fixed top-0 h-full overflow-x-hidden border-r-1 border-[var(--border-main)] bg-[var(--bg-navbar)] transition-all duration-[var(--slow)]"),children:(0,a.jsxs)("div",{className:"my-4 ml-4",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(e.iconHover,{className:"flex max-h-4 min-h-4 max-w-4 min-w-4 text-[var(--accent-color)]"}),(0,a.jsx)("span",{className:"truncate text-xs",children:e.label})]}),(0,a.jsx)("div",{className:"grid gap-2 ".concat(1===h?"grid-cols-1":2===h?"sm:grid-cols-2":"sm:grid-cols-3"),children:e.menus.map((e,t)=>(0,a.jsx)("div",{children:(!e.requiresLogin||c)&&(!e.requiresAdmin||d)&&(!e.requiresDev||m)&&(0,a.jsxs)("ul",{className:"".concat(s?"opacity-100":"opacity-0"," w-34 transition-opacity duration-[var(--fast)]"),children:[(0,a.jsx)("li",{className:"truncate border-[var(--border-main)] pt-6 pb-1",children:e.label}),(0,a.jsx)("hr",{className:"text-[var(--border-main)]"}),e.items.map((e,t)=>{var r;let n=e.href&&u.startsWith(e.href);return(0,a.jsx)("div",{children:(!e.requiresLogin||c)&&(!e.requiresAdmin||d)&&(!e.requiresDev||m)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("li",{className:"".concat(e.title?"truncate pt-4 pb-1 text-xs font-semibold":""," ").concat(e.title||0!==t?"":"pt-2"),children:null!=(r=e.title)?r:""}),(0,a.jsx)("li",{className:"w-34 rounded-lg transition-colors hover:bg-[var(--bg-navbar-link)]",children:e.href?(0,a.jsx)(b(),{onClick:()=>o(!1),href:e.href,tabIndex:s?0:-1,className:"".concat(n?"text-[var(--accent-color)]":"text-[var(--text-navbar)]"," flex h-full w-full truncate p-2 text-sm"),children:e.label}):(0,a.jsx)("button",{onClick:e.onClick,tabIndex:s?0:-1,className:"flex h-full w-full cursor-pointer truncate p-2 text-sm text-[var(--text-navbar)]",children:e.label})})]})},t)})]})},t))})]})})]})})},k=()=>{let{isLoggedIn:e}=(0,y.A)(),[t,r]=(0,n.useState)(null),[a,s]=(0,n.useState)(!1),o="https://ecommerce-9jo7.onrender.com",i=localStorage.getItem("token");(0,n.useEffect)(()=>{e&&(async()=>{s(!0);try{let e=await fetch("".concat(o,"/user-preferences"),{headers:{Authorization:"Bearer ".concat(i)}});if(!e.ok)return;let t=await e.json();r(t.theme)}catch(e){}finally{s(!1)}})()},[e]);let l=async e=>{try{await fetch("".concat(o,"/user-preferences/theme"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)},body:JSON.stringify({Theme:e})}),r(e)}catch(e){}};return(0,n.useEffect)(()=>{t&&(document.documentElement.setAttribute("data-theme",t),localStorage.setItem("theme",t),window.dispatchEvent(new Event("theme-changed")))},[t]),{userTheme:t,updateUserTheme:l,isLoadingUserPrefs:a}},E=()=>{let[e,t]=(0,n.useState)(null),{userTheme:r,updateUserTheme:a}=k();return(0,n.useEffect)(()=>{let e=()=>{t(document.documentElement.getAttribute("data-theme"))};return e(),window.addEventListener("theme-changed",e),()=>{window.removeEventListener("theme-changed",e)}},[]),{toggleTheme:(0,n.useCallback)(()=>{let t="dark"===e?"light":"dark";document.documentElement.setAttribute("data-theme",t),localStorage.setItem("theme",t),window.dispatchEvent(new Event("theme-changed")),a(t)},[a]),userTheme:r,currentTheme:e}};var S=r(7877);let z=e=>{let t=(0,n.useRef)(null),{isAuthReady:r,isDev:f,isAdmin:g}=(0,y.A)(),{currentTheme:w}=E(),N="/eCommerce";return(0,n.useEffect)(()=>{let r=t.current;if(!r)return;let a=new ResizeObserver(()=>{e.setHasScrollbar(r.scrollHeight>r.clientHeight)});return a.observe(r),e.setHasScrollbar(r.scrollHeight>r.clientHeight),()=>{a.disconnect()}},[r]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("nav",{className:"".concat(e.hasScrollbar?"max-w-22 md:max-w-67":"max-w-19 md:max-w-64"," transtion-[max-width] fixed z-[calc(var(--z-overlay)-1)] flex h-full w-full flex-col bg-[var(--bg-navbar)] duration-[var(--slow)]"),children:(0,a.jsxs)("div",{className:"relative h-full w-full pt-18",children:[(0,a.jsx)("div",{className:"pointer-events-none absolute top-0 left-0 h-full w-full border-r-1 border-[var(--border-main)]"}),r?(0,a.jsxs)("div",{ref:t,id:"navbar-menu",role:"navigation","aria-label":"Huvudmeny",className:"flex h-full flex-col gap-4 overflow-x-hidden p-4",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("div",{className:"fixed top-0 flex h-18 transition-transform duration-[var(--slow)]",children:(0,a.jsx)(b(),{href:"/",className:"mt-1.25 -ml-2.25 flex h-15 max-w-17 min-w-17 md:max-w-17 md:min-w-40","aria-label":"Startsida",children:(0,a.jsxs)("picture",{children:[(0,a.jsx)("source",{srcSet:"".concat(N,"/images/logo_expnd_").concat("dark"===w?"dark":"light",".svg"),media:"(min-width: 768px)"}),(0,a.jsx)("img",{src:"".concat(N,"/images/logo_clpsd_").concat("dark"===w?"dark":"light",".svg"),alt:"Logga",className:"h-full w-full"})]})})}),(0,a.jsx)("hr",{className:"mb-4 rounded-full text-[var(--border-main)] md:mb-8"}),f&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"hidden pb-1 text-xs font-semibold whitespace-nowrap uppercase md:flex",children:"Utvecklare"}),(0,a.jsx)(A,{label:"Anv\xe4ndare",icon:s.A,iconHover:m.A,menus:[{label:"F\xf6r utvecklare",items:[{title:"Hantera",href:"/users",label:"Anv\xe4ndare"}]}],hasScrollbar:e.hasScrollbar}),(0,a.jsx)("hr",{className:"mt-4 mb-4 rounded-full text-[var(--border-main)] md:mb-8"})]}),(0,a.jsx)("span",{className:"hidden pb-1 text-xs font-semibold whitespace-nowrap uppercase md:flex",children:"Din dashboard"}),(0,a.jsx)(j,{href:"/",label:"Startsida",icon:o.A,iconHover:u.A}),g&&(0,a.jsxs)("div",{children:[(0,a.jsx)(j,{tooltip:"Ej implementerad!",disabled:!0,href:"#",label:"Best\xe4llningar",icon:i.A,iconHover:v.A}),(0,a.jsx)(j,{tooltip:"Ej implementerad!",disabled:!0,href:"#",label:"F\xf6rs\xe4ljningsstatistik",icon:l.A,iconHover:h.A}),(0,a.jsx)("hr",{className:"mt-4 mb-4 rounded-full text-[var(--border-main)] md:mb-8"}),(0,a.jsx)("span",{className:"hidden pb-1 text-xs font-semibold whitespace-nowrap uppercase md:flex",children:"L\xd6PANDE"}),(0,a.jsx)(j,{tooltip:"Ej implementerad!",disabled:!0,href:"#",label:"Kunder",icon:c.A,iconHover:x.A}),(0,a.jsx)(j,{tooltip:"Ej implementerad!",disabled:!0,href:"#",label:"Produkter",icon:d.A,iconHover:p.A})]})]}),(0,a.jsx)("div",{className:"mb-4"})]}):(0,a.jsxs)("div",{className:"inline",children:[(0,a.jsx)("span",{className:"hidden md:inline",children:(0,a.jsx)(S.A,{icon:"loading",content:"H\xe4mtar inneh\xe5ll..."})}),(0,a.jsx)("span",{className:"inline md:hidden",children:(0,a.jsx)(S.A,{icon:"loading"})})]})]})})})};var C=r(1972),L=r(6535),H=r(4521),T=r(4086),_=r(8775),O=r(3219),P=r(977),D=r(1038),I=r(8828),R=r(4170),q=r(1131),F=r(7124),B=r(7186),K=r(8444),U=r(337),M=r(8500),W=r(3107);let $=e=>(0,a.jsx)(a.Fragment,{children:e.href?(0,a.jsx)(b(),{href:e.href,className:"group flex h-[40px] w-full cursor-pointer items-center gap-4 rounded-lg border-1 border-transparent p-2 transition-[background,max-width] duration-[var(--fast)] hover:bg-[var(--bg-topbar-link)] md:justify-between",children:(0,a.jsxs)("div",{className:"flex items-center gap-4 overflow-hidden",children:[(0,a.jsxs)("span",{className:"relative flex min-h-6 min-w-6 items-center",children:[(0,a.jsx)(e.icon,{className:"absolute transition-opacity duration-[var(--fast)] group-hover:opacity-0"}),(0,a.jsx)(e.iconHover,{className:"absolute text-[var(--accent-color)] opacity-0 transition-opacity duration-[var(--fast)] group-hover:opacity-100"})]}),(0,a.jsx)("span",{className:"truncate",children:e.label})]})}):(0,a.jsx)("button",{onClick:e.onClick,className:"group flex h-[40px] w-full cursor-pointer items-center gap-4 rounded-lg border-1 border-transparent p-2 transition-[background,max-width] duration-[var(--fast)] hover:bg-[var(--bg-topbar-link)] md:justify-between",children:(0,a.jsxs)("div",{className:"flex items-center gap-4 overflow-hidden",children:[(0,a.jsxs)("span",{className:"relative flex min-h-6 min-w-6 items-center",children:[(0,a.jsx)(e.icon,{className:"absolute transition-opacity duration-[var(--fast)] group-hover:opacity-0"}),(0,a.jsx)(e.iconHover,{className:"absolute text-[var(--accent-color)] opacity-0 transition-opacity duration-[var(--fast)] group-hover:opacity-100"})]}),(0,a.jsx)("span",{className:"truncate",children:e.label})]})})}),X=e=>{let t=(0,n.useRef)(null),r=(0,n.useRef)(null),[s,o]=(0,n.useState)(!0),[i,l]=(0,n.useState)(0),[c,d]=(0,n.useState)(!1),[m,u]=(0,n.useState)(!1),v=localStorage.getItem("token"),{notify:h}=(0,M.d)(),{username:x,firstName:p,lastName:f,isLoggedIn:b,isAuthReady:g}=(0,y.A)(),{toggleTheme:w,currentTheme:j}=E();(0,n.useEffect)(()=>{let e=()=>{let e=window.scrollY;e>i&&e>50?(o(!1),A()):o(!0),l(e)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[i]);let N=async()=>{try{await fetch("".concat("https://ecommerce-9jo7.onrender.com","/user/logout"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v)}})}catch(e){}finally{localStorage.removeItem("token"),localStorage.setItem("postLogoutToast","Du \xe4r nu utloggad!"),window.location.reload()}};(0,n.useEffect)(()=>{let e=localStorage.getItem("postLogoutToast");e&&(h("info",e,6e3),localStorage.removeItem("postLogoutToast"))},[]);let A=()=>{d(!1),u(!1)};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{inert:!s,className:"".concat(s?"translate-y-0":"-translate-y-full"," ").concat(e.hasScrollbar?"max-w-[calc(100%-5.5rem)] md:max-w-[calc(100%-17.75rem)]":"max-w-[calc(100%-4.75rem)] md:max-w-[calc(100%-16rem)]"," transition-transforn fixed top-0 right-0 z-[calc(var(--z-overlay)-2)] flex h-18 w-full border-b-1 border-[var(--border-main)] bg-[var(--bg-navbar)] p-4 duration-[var(--slow)]"),children:g?(0,a.jsxs)(a.Fragment,{children:[b&&(0,a.jsxs)("div",{className:"xs:flex hidden w-full items-center text-lg whitespace-nowrap",children:[(0,a.jsx)("span",{className:"",children:"V\xe4lkommen tillbaka,\xa0"}),(0,a.jsx)("span",{className:"font-semibold text-[var(--accent-color)]",children:p||x}),"!"]}),(0,a.jsxs)("div",{className:"flex w-full items-center justify-end gap-4",children:[b&&(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("button",{ref:r,className:"".concat(C.Kt," group"),onClick:()=>{A(),u(!m)},children:(0,a.jsxs)("span",{className:"group relative flex h-6 w-6 items-center justify-center",children:[(0,a.jsx)(I.A,{className:"".concat(m?"opacity-0":"opacity-100"," absolute transition-opacity duration-[var(--fast)] group-hover:opacity-0")}),(0,a.jsx)(L.A,{className:"".concat(m?"opacity-100":"opacity-0"," absolute text-[var(--accent-color)] transition-opacity duration-[var(--fast)] group-hover:opacity-100")})]})}),(0,a.jsx)(W.A,{triggerRef:r,isOpen:m,onClose:()=>u(!1),children:(0,a.jsx)("span",{children:"Du har inga nya meddelanden."})})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("button",{ref:t,className:"".concat(C.Kt," group"),onClick:()=>{A(),d(!c)},children:(0,a.jsxs)("span",{className:"group relative flex h-6 w-6 items-center justify-center",children:[(0,a.jsx)(R.A,{className:"".concat(c?"opacity-0":"opacity-100"," absolute transition-opacity duration-[var(--fast)] group-hover:opacity-0")}),(0,a.jsx)(H.A,{className:"".concat(c?"opacity-100":"opacity-0"," absolute text-[var(--accent-color)] transition-opacity duration-[var(--fast)] group-hover:opacity-100")})]})}),(0,a.jsxs)(W.A,{triggerRef:t,isOpen:c,onClose:()=>d(!1),children:[b&&(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"font-semibold break-words text-[var(--accent-color)]",children:p&&f?p+" "+f:p||x}),(0,a.jsx)("hr",{className:"absolute mt-4 -ml-4 flex w-[calc(100%+2rem)] text-[var(--border-main)]"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"flex pb-1 text-sm font-semibold",children:"Hantera"}),(0,a.jsx)($,{onClick:w,label:"dark"===j?"Byt till ljust tema":"Byt till m\xf6rkt tema",icon:"dark"===j?q.A:F.A,iconHover:"dark"===j?T.A:_.A}),b&&(0,a.jsx)($,{onClick:()=>h("error","Ej implementerat!"),label:"Inst\xe4llningar",icon:B.A,iconHover:O.A})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("hr",{className:"absolute -mt-4 -ml-4 w-[calc(100%+2rem)] text-[var(--border-main)]"}),(0,a.jsx)("span",{className:"pb-1 text-sm font-semibold",children:"Session"}),b?(0,a.jsx)($,{onClick:N,label:"Logga ut",icon:K.A,iconHover:P.A}):(0,a.jsx)($,{href:"/",label:"Logga in",icon:U.A,iconHover:D.A})]})]})]})]})]}):(0,a.jsxs)("div",{className:"inline",children:[(0,a.jsx)("span",{className:"hidden md:inline",children:(0,a.jsx)(S.A,{icon:"loading",content:"H\xe4mtar inneh\xe5ll...",sideMessage:!0,fullscreen:!0,withinContainer:!0})}),(0,a.jsx)("span",{className:"inline md:hidden",children:(0,a.jsx)(S.A,{icon:"loading",fullscreen:!0,withinContainer:!0})})]})})})},J=e=>{let[t,r]=(0,n.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(z,{hasScrollbar:t,setHasScrollbar:r}),(0,a.jsx)(X,{hasScrollbar:t}),(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)("div",{className:"".concat(t?"ml-22 md:ml-67":"ml-19 md:ml-64"," w-full max-w-[1920px] overflow-x-hidden p-4 pt-22 duration-[var(--medium)]"),children:e.children})})]})}},5502:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var a=r(5155),n=r(2115);function s(e){let{children:t}=e,[r,s]=(0,n.useState)(null);return((0,n.useEffect)(()=>{let e=localStorage.getItem("theme")||"light";s(e),document.documentElement.setAttribute("dataTheme",e)},[]),null===r)?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(a.Fragment,{children:t})}},6674:()=>{},7877:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var a=r(5155),n=r(1972),s=r(5279),o=r(3347),i=r(8338),l=r(4170),c=r(4760),d=r(3466),m=r(8054),u=r(6874),v=r.n(u),h=r(2115);let x={loading:s.A,deny:o.A,server:i.A,user:l.A,beware:c.A,search:d.A},p={loading:"Laddar...",auth:"Autentiserar...",deny:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{children:"Obeh\xf6rig access!"})," ",(0,a.jsxs)("span",{children:[(0,a.jsx)(v(),{href:"/",className:"".concat(n.$U),children:"Klicka h\xe4r"})," ","f\xf6r att logga in."]})]}),server:"Ingen kontakt med servern, f\xf6rs\xf6k igen senare!"},f=e=>{var t;let[r,n]=(0,h.useState)(null);(0,h.useEffect)(()=>{n(()=>{var t;return e.icon&&null!=(t=x[e.icon])?t:null})},[e.icon]);let s=null!=(t=e.content&&p[e.content])?t:e.content;return(0,a.jsx)("div",{className:"".concat(e.fullscreen?"fixed inset-0 overflow-auto":"h-full grow"," ").concat(!e.withinContainer&&e.fullscreen?"ml-18 md:ml-64":e.withinContainer&&e.fullscreen&&""," flex items-center justify-center"),children:(0,a.jsxs)("div",{className:"".concat(e.sideMessage?"":"flex-col"," flex items-center gap-3 opacity-75"),children:[e.icon&&r?(0,a.jsx)(r,{className:"".concat("loading"===e.icon?"motion-safe:animate-[spin_2s_linear_infinite]":""," h-8 w-8")}):e.icon?(0,a.jsx)("div",{className:"h-8 w-8"}):(0,a.jsx)(m.A,{className:"h-8 w-8"}),s&&(0,a.jsx)("span",{className:"text-center",children:s})]})})}},8500:(e,t,r)=>{"use strict";r.d(t,{ToastProvider:()=>u,d:()=>m});var a=r(5155),n=r(2115),s=r(6865),o=r(2589),i=r(7695);let l=e=>{let[t,r]=(0,n.useState)(!0);(0,n.useEffect)(()=>{var t;let r=setTimeout(l,null!=(t=e.duration)?t:3e3);return()=>clearTimeout(r)},[e.duration]);let l=()=>{t&&(r(!1),setTimeout(()=>{var t;null==(t=e.onDone)||t.call(e)},500))},c="success"===e.type?"bg-[var(--note-success)] hover:bg-[var(--note-success-hover)] active:bg-[var(--note-success-active)]":"error"===e.type?"bg-[var(--note-error)] hover:bg-[var(--note-error-hover)] active:bg-[var(--note-error-active)]":"bg-[var(--note-info)] hover:bg-[var(--note-info-hover)] active:bg-[var(--note-info-active)]",d="success"===e.type?s.A:"error"===e.type?o.A:i.A;return(0,a.jsxs)("div",{className:"".concat(t?"opacity-100":"opacity-0"," ").concat(c," flex cursor-pointer items-center justify-center gap-4 rounded py-4 font-semibold text-[var(--text-main-reverse)] shadow-[0_0_16px_0_rgba(0,0,0,0.125)] transition-[opacity,background]"),style:{transitionDuration:"500ms, 200ms"},onClick:l,children:[(0,a.jsx)(d,{className:"h-8 w-8"}),(0,a.jsx)("span",{className:"w-2/3",children:e.content})]})};var c=r(1368);let d=(0,n.createContext)(null),m=()=>{let e=(0,n.useContext)(d);if(!e)throw Error("useToast must be used inside ToastProvider");return e},u=e=>{let{children:t}=e,[r,s]=(0,n.useState)([]),o=(0,n.useCallback)((e,t,r)=>{let a=(0,c.A)();s(n=>[...n,{id:a,type:e,content:t,duration:r}]),setTimeout(()=>{s(e=>e.filter(e=>e.id!==a))},(null!=r?r:3e3)+500)},[]),i=e=>{s(t=>t.filter(t=>t.id!==e))};return(0,a.jsxs)(d.Provider,{value:{notify:o},children:[t,(0,a.jsx)("div",{className:"fixed bottom-4 z-[calc(var(--z-tooltip)-1)] mx-4 flex w-[calc(100%-2rem)] flex-col sm:mx-0 gap-4 sm:right-4 sm:w-72 sm:min-w-72",children:r.map(e=>(0,a.jsx)(l,{content:e.content,type:e.type,duration:e.duration,onDone:()=>i(e.id)},e.id))})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[890,431,79,390,441,684,358],()=>t(1175)),_N_E=e.O()}]);