(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{255:(e,t,r)=>{"use strict";function n(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return n}}),r(5155),r(7650),r(5744),r(589)},1703:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(2115);let a=()=>{let[e,t]=(0,n.useState)(null),[r,a]=(0,n.useState)(null),[o,s]=(0,n.useState)([]),[l,i]=(0,n.useState)(""),[c,u]=(0,n.useState)(""),[d,b]=(0,n.useState)(null),[f,v]=(0,n.useState)(!1),p="http://192.168.1.75:5000",h=localStorage.getItem("token"),m=()=>{s([]),i(""),u("")};return(0,n.useEffect)(()=>{(async()=>{try{t(!0);let e=await fetch("".concat(p,"/ping"));if(b(e.ok),!e.ok||!h){a(!1),m();return}let r=await fetch("".concat(p,"/user/check-login"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(h)}});if(!r.ok){a(!1),m();return}let n=await r.json(),o=!0===n.isLoggedIn;if(a(o),o){let e=await fetch("".concat(p,"/user/info"),{headers:{Authorization:"Bearer ".concat(h)}});if(!e.ok)return void m();let t=await e.json();s(t.roles),i(t.username),u(t.name)}else m()}catch(e){b(!1),a(!1),m()}finally{t(!1),v(!0)}})()},[]),{isLoggedIn:r,isAdmin:o.includes("Admin"),isDev:o.includes("Developer"),isConnected:d,isAuthReady:f,username:l,name:c}}},1972:(e,t,r)=>{"use strict";r.d(t,{$U:()=>c,$e:()=>n,Kt:()=>u,U0:()=>l,XM:()=>b,Xd:()=>i,eA:()=>o,lj:()=>d,p9:()=>a,s9:()=>s});let n="h-[40px] w-[40px] cursor-pointer rounded bg-[var(--button-primary)] p-2 font-semibold text-[var(--text-main-reverse)] transition-colors hover:bg-[var(--button-primary-hover)] hover:text-[var(--text-main)] active:bg-[var(--button-primary-active)] disabled:cursor-not-allowed disabled:opacity-25 disabled:hover:bg-[var(--button-primary)] z-[calc(var(--z-base)+1)]",a="h-[40px] w-[40px] cursor-pointer rounded border-1 border-[var(--button-secondary)] p-2 font-semibold transition-colors hover:border-[var(--button-secondary-hover)] active:border-[var(--button-secondary-active)] disabled:cursor-not-allowed disabled:opacity-25 disabled:hover:border-[var(--border-main)] z-[calc(var(--z-base)+1)]",o="h-[40px] w-[40px] cursor-pointer rounded bg-[var(--button-delete)] p-2 font-semibold text-[var(--text-main-reverse)] transition-colors hover:bg-[var(--button-delete-hover)] hover:text-[var(--text-main)] active:bg-[var(--button-delete-active)] disabled:cursor-not-allowed disabled:opacity-25 disabled:hover:bg-[var(--button-delete)] z-[calc(var(--z-base)+1)]",s="h-[40px] w-[40px] cursor-pointer rounded border-1 border-[var(--button-secondary)] p-2 font-semibold transition-colors hover:border-[var(--button-delete)] active:border-[var(--button-delete-active)] disabled:cursor-not-allowed disabled:opacity-25 disabled:hover:border-[var(--border-main)] z-[calc(var(--z-base)+1)]",l="h-[24px] w-[24px] flex items-center justify-center cursor-pointer transition-colors duration-[var(--fast)] hover:text-[var(--button-primary)] active:text-[var(--button-primary-active)] z-[calc(var(--z-base)+1)] disabled:opacity-25 disabled:hover:text-[var(--text-main)] disabled:cursor-not-allowed",i="h-[24px] w-[24px] flex items-center justify-center cursor-pointer transition-colors duration-[var(--fast)] hover:text-[var(--button-delete)] active:text-[var(--button-delete-active)] z-[calc(var(--z-base)+1)]",c="cursor-pointer font-semibold text-[var(--accent-color)] transition-[color] duration-[var(--fast)] hover:text-[var(--accent-color-hover)] z-[calc(var(--z-base)+1)]",u="h-[40px] w-[40px] flex justify-center items-center cursor-pointer bg-[var(--bg-navbar-link)] rounded-full z-[calc(var(--z-base)+1)]",d=e=>"".concat(e?"bg-[var(--accent-color)]":"bg-gray-500"," h-6 w-10 cursor-pointer rounded-full px-0.5"),b=e=>"".concat(e?"translate-x-4":"translate-x-0"," h-5 w-5 rounded-full bg-white duration-[var(--fast)]")},2146:(e,t,r)=>{"use strict";function n(e){let{reason:t,children:r}=e;return r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}}),r(5262)},4054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{bindSnapshot:function(){return s},createAsyncLocalStorage:function(){return o},createSnapshot:function(){return l}});let r=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class n{disable(){throw r}getStore(){}run(){throw r}exit(){throw r}enterWith(){throw r}static bind(e){return e}}let a="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function o(){return a?new a:new n}function s(e){return a?a.bind(e):n.bind(e)}function l(){return a?a.snapshot():function(e,...t){return e(...t)}}},5028:(e,t,r)=>{"use strict";r.d(t,{default:()=>a.a});var n=r(6645),a=r.n(n)},5138:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var n=r(5155),a=r(5028),o=r(7877),s=r(1703);let l=(0,a.default)(()=>Promise.all([r.e(797),r.e(429),r.e(449),r.e(216)]).then(r.bind(r,6216)),{loadableGenerated:{webpack:()=>[6216]},ssr:!1,loading:()=>(0,n.jsx)(o.A,{icon:"loading",content:"Laddar in sidan...",fullscreen:!0})}),i=()=>{let{isAuthReady:e,isLoggedIn:t,isAdmin:r,isConnected:a}=(0,s.A)();return e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h1",{className:"mb-4 text-2xl font-semibold uppercase transition-[font-size] duration-[var(--medium)]",children:"Dashboard"}),(0,n.jsx)(l,{isAuthReady:e,isLoggedIn:t,isAdmin:r,isConnected:a})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h1",{className:"mb-4 text-2xl font-semibold uppercase transition-[font-size] duration-[var(--medium)]",children:"Dashboard"}),(0,n.jsx)(o.A,{icon:"loading",content:"auth",fullscreen:!0})]})}},5744:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return n.workAsyncStorageInstance}});let n=r(7828)},6645:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let n=r(8229)._(r(7357));function a(e,t){var r;let a={};"function"==typeof e&&(a.loader=e);let o={...a,...t};return(0,n.default)({...o,modules:null==(r=o.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7357:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let n=r(5155),a=r(2115),o=r(2146);function s(e){return{default:e&&"default"in e?e.default:e}}r(255);let l={loader:()=>Promise.resolve(s(()=>null)),loading:null,ssr:!0},i=function(e){let t={...l,...e},r=(0,a.lazy)(()=>t.loader().then(s)),i=t.loading;function c(e){let s=i?(0,n.jsx)(i,{isLoading:!0,pastDelay:!0,error:null}):null,l=!t.ssr||!!t.loading,c=l?a.Suspense:a.Fragment,u=t.ssr?(0,n.jsxs)(n.Fragment,{children:[null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(o.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(c,{...l?{fallback:s}:{},children:u})}return c.displayName="LoadableComponent",c}},7828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,r(4054).createAsyncLocalStorage)()},7877:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var n=r(5155),a=r(1972),o=r(5279),s=r(3347),l=r(8338),i=r(4170),c=r(4760),u=r(3466),d=r(8054),b=r(6874),f=r.n(b),v=r(2115);let p={loading:o.A,deny:s.A,server:l.A,user:i.A,beware:c.A,search:u.A},h={loading:"Laddar...",auth:"Autentiserar...",deny:(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{children:"Obeh\xf6rig access!"})," ",(0,n.jsxs)("span",{children:[(0,n.jsx)(f(),{href:"/",className:"".concat(a.$U),children:"Klicka h\xe4r"})," ","f\xf6r att logga in."]})]}),server:"Ingen kontakt med servern, f\xf6rs\xf6k igen senare!"},m=e=>{var t;let[r,a]=(0,v.useState)(null);(0,v.useEffect)(()=>{a(()=>{var t;return e.icon&&null!=(t=p[e.icon])?t:null})},[e.icon]);let o=null!=(t=e.content&&h[e.content])?t:e.content;return(0,n.jsx)("div",{className:"".concat(e.fullscreen?"fixed inset-0 ml-18 overflow-auto md:ml-64":"h-full grow"," flex items-center justify-center"),children:(0,n.jsxs)("div",{className:"".concat(e.sideMessage?"":"flex-col"," flex items-center gap-3 opacity-75"),children:[e.icon&&r?(0,n.jsx)(r,{className:"".concat("loading"===e.icon?"motion-safe:animate-[spin_2s_linear_infinite]":""," h-8 w-8")}):e.icon?(0,n.jsx)("div",{className:"h-8 w-8"}):(0,n.jsx)(d.A,{className:"h-8 w-8"}),o&&(0,n.jsx)("span",{className:"text-center",children:o})]})})}},8543:(e,t,r)=>{Promise.resolve().then(r.bind(r,5138))}},e=>{var t=t=>e(e.s=t);e.O(0,[79,441,684,358],()=>t(8543)),_N_E=e.O()}]);