"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[799],{8799:(e,t,a)=>{a.r(t),a.d(t,{default:()=>K});var l=a(5155),s=a(2115),n=a(1701),r=a(3555),i=a(8500),c=a(4541),o=a(815),d=a(6934),x=a(4822),u=a(6493),m=a(5271),h=a(3472),f=a(3762),g=a(2237),p=a(7765),j=a(2175),v=a(1151),b=a(1972),w=a(7877),N=a(4402),k=a(4163),y=a(251);let S=e=>{let t=(0,s.useRef)(null),[a,r]=(0,s.useState)(""),[c,o]=(0,s.useState)([]),[d,x]=(0,s.useState)([]),[m,h]=(0,s.useState)(!1),[f,g]=(0,s.useState)(""),[v,w]=(0,s.useState)([]),N=localStorage.getItem("token"),{notify:S}=(0,i.d)(),A="https://ecommerce-9jo7.onrender.com";(0,s.useEffect)(()=>{e.isOpen&&E()},[e.isOpen]),(0,s.useEffect)(()=>{e.isOpen&&null!==e.categoryId&&void 0!==e.categoryId&&v.length>0?I():(r(""),o([]),x([]),g(""))},[e.isOpen,e.categoryId,v]);let C=async t=>{t.preventDefault();try{let t=await fetch("".concat(A,"/category/create"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(N)},body:JSON.stringify({name:a,units:c.map(Number),subCategories:d})});if(401===t.status)return void localStorage.removeItem("token");let l=await t.json();if(!t.ok){if(l.errors){let e=null,t=Number.MAX_SAFE_INTEGER;for(let a in l.errors)for(let s of l.errors[a]){let a=s.match(/\[(\d+)\]/),l=a?parseInt(a[1],10):99;l<t&&(t=l,e=s.replace(/\[\d+\]\s*/,""))}e&&S("error",e);return}if(l.message)return void S("error",l.message);S("error","Ett ok\xe4nt fel intr\xe4ffade");return}e.onClose(),e.onCategoryUpdated(),S("success","Kategori skapad!",4e3)}catch(e){S("error",String(e))}},E=async()=>{try{let e=await fetch("".concat(A,"/unit"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(N)}}),t=await e.json();e.ok?w(t.items):S("error",t.message)}catch(e){S("error",String(e))}},I=async()=>{try{let t=await fetch("".concat(A,"/category/fetch/").concat(e.categoryId),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(N)}}),a=await t.json();t.ok?D(a):S("error",a.message)}catch(e){S("error",String(e))}},D=e=>{var t,a,l;r(null!=(a=e.name)?a:""),o(null==(t=e.units)?void 0:t.map(e=>{let t=v.find(t=>t.name===e);return t?String(t.id):null}).filter(Boolean)),x(null!=(l=e.subCategories)?l:[])},O=async(t,l)=>{t.preventDefault();try{let t=await fetch("".concat(A,"/category/update/").concat(e.categoryId),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(N)},body:JSON.stringify({name:a,units:c.map(Number),subCategories:d})});if(401===t.status)return void localStorage.removeItem("token");let l=await t.json();if(!t.ok){if(l.errors){let e=null,t=Number.MAX_SAFE_INTEGER;for(let a in l.errors)for(let s of l.errors[a]){let a=s.match(/\[(\d+)\]/),l=a?parseInt(a[1],10):99;l<t&&(t=l,e=s.replace(/\[\d+\]\s*/,""))}e&&S("error",e);return}if(l.message)return void S("error",l.message);S("error","Ett ok\xe4nt fel intr\xe4ffade");return}e.onClose(),e.onCategoryUpdated(),S("success","Kategori uppdaterad!",4e3)}catch(e){S("error",String(e))}},R=()=>{let e=f.trim();e?d.includes(e)?S("error","En underkategori med samma namn finns redan"):(x(t=>[...t,e].sort((e,t)=>e.localeCompare(t,"sv"))),g("")):S("error","Ange namnet p\xe5 underkategorin f\xf6rst")},M=e=>{let{label:t,onDelete:a}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("button",{className:"".concat(b.Kt," group w-auto gap-2 !bg-[var(--bg-modal-link)] px-4"),onClick:a,children:[(0,l.jsx)("span",{className:"truncate font-semibold transition-colors duration-[var(--fast)] group-hover:text-[var(--accent-color)]",children:t}),(0,l.jsx)(u.A,{className:"h-6 w-6 transition-[color,rotate] duration-[var(--fast)] group-hover:text-[var(--accent-color)]"})]})})};return(0,l.jsx)(l.Fragment,{children:e.isOpen&&(0,l.jsx)(k.A,{isOpen:e.isOpen,onClose:()=>e.onClose(),icon:e.categoryId?j.A:p.A,label:e.categoryId?"Redigera kategori":"L\xe4gg till ny kategori",children:(0,l.jsxs)("form",{ref:t,className:"relative flex flex-col gap-4",onSubmit:t=>e.categoryId?O(t,e.categoryId):C(t),children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("hr",{className:"w-12 text-[var(--border-main)]"}),(0,l.jsx)("h3",{className:"text-sm whitespace-nowrap text-[var(--text-secondary)]",children:"Uppgifter om kategorin"}),(0,l.jsx)("hr",{className:"w-full text-[var(--border-main)]"})]}),(0,l.jsxs)("div",{className:"mb-8 flex flex-col gap-6 sm:flex-row sm:gap-4",children:[(0,l.jsx)(n.A,{label:"Namn",value:a,onChange:e=>r(String(e)),onModal:!0,required:!0}),(0,l.jsx)("div",{className:"flex w-full gap-6 sm:gap-4",children:(0,l.jsx)(y.A,{id:"unitGroup",label:"Enheter med \xe5tkomst",value:c,onChange:e=>o(e),onModal:!0,options:v.map(e=>({label:e.name,value:String(e.id)}))})})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("hr",{className:"w-12 text-[var(--border-main)]"}),(0,l.jsx)("h3",{className:"text-sm whitespace-nowrap text-[var(--text-secondary)]",children:"Underkategorier"}),(0,l.jsx)("hr",{className:"w-full text-[var(--border-main)]"})]}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)(n.A,{value:f,onChange:e=>g(String(e)),onModal:!0,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),R())}}),(0,l.jsx)("button",{type:"button",onClick:R,className:"".concat(b.$e),children:(0,l.jsx)(p.A,{})})]}),d.length>0&&(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:d.slice().sort((e,t)=>e.localeCompare(t,"sv")).map((e,t)=>(0,l.jsx)(M,{label:e,onDelete:()=>x(t=>t.filter((a,l)=>l!==t.indexOf(e)))},t))}),(0,l.jsxs)("div",{className:"mt-8 flex flex-col gap-4 sm:flex-row sm:justify-between",children:[(0,l.jsx)("button",{type:"button",onClick:()=>{var e;null==(e=t.current)||e.requestSubmit()},className:"".concat(b.$e," w-full grow-2 sm:w-auto"),children:e.categoryId?"Uppdatera":"L\xe4gg till"}),(0,l.jsx)("button",{type:"button",onClick:e.onClose,className:"".concat(b.p9," w-full grow sm:w-auto"),children:"\xc5ngra"})]})]})})})};var A=a(3107),C=a(703);let E="pl-4 p-2 min-w-48 h-[40px] cursor-pointer border-1 border-t-0 border-[var(--border-secondary)] border-b-[var(--border-main)] text-left transition-[background] duration-[var(--fast)] hover:bg-[var(--bg-grid-header-hover)]",I="py-2 px-4 min-w-48 h-[40px] border-1 border-b-0 border-[var(--border-secondary)] text-left break-all",D="truncate font-semibold transition-colors duration-[var(--fast)] group-hover:text-[var(--accent-color)]",O="h-6 w-6 transition-[color,rotate] duration-[var(--fast)] group-hover:text-[var(--accent-color)]",R=e=>{let{filterRef:t,label:a,breakpoint:r,filterData:i}=e,[c,d]=(0,s.useState)(!1),x="relative hidden ";return"2xs"===r?x+="2xs:flex":"xs"===r?x+="xs:flex":"sm"===r?x+="sm:flex":"md"===r?x+="md:flex":"ml"===r?x+="ml:flex":"lg"===r?x+="lg:flex":"xl"===r?x+="xl:flex":"2xl"===r&&(x+="2xl:flex"),(0,l.jsxs)("div",{className:x,children:[(0,l.jsxs)("button",{ref:t,className:"".concat(b.Kt," group w-auto gap-2 px-4"),onClick:()=>{d(e=>!e)},children:[(0,l.jsx)("span",{className:"".concat(D," ").concat(c?"text-[var(--accent-color)]":""),children:a}),(0,l.jsx)(o.A,{className:"".concat(O," ").concat(c?"rotate-180 text-[var(--accent-color)]":"")})]}),(0,l.jsx)(A.A,{triggerRef:t,isOpen:c,onClose:()=>d(!1),children:(0,l.jsx)("div",{className:"flex w-full flex-col gap-4",children:i.map((e,t)=>{var a;return(0,l.jsxs)("div",{onClick:()=>e.setShow(!e.show),className:"group flex cursor-pointer justify-between",children:[(0,l.jsx)(n.A,{type:"checkbox",checked:e.show,label:e.label,readOnly:!0}),(0,l.jsxs)("span",{children:["(",null!=(a=e.count)?a:0,")"]})]},t)})})})]})},M=e=>{let{filterRef:t,label:a,filterData:r}=e,[i,c]=(0,s.useState)(!1),[d,x]=(0,s.useState)("0px");return(0,s.useEffect)(()=>{t.current&&x(i?"".concat(t.current.scrollHeight,"px"):"0px")},[i]),(0,l.jsxs)("div",{children:[(0,l.jsxs)("button",{onClick:()=>c(e=>!e),className:"".concat(i?"text-[var(--accent-color)]":""," flex w-full cursor-pointer items-center justify-between py-4 duration-[var(--fast)] hover:text-[var(--accent-color)]"),children:[(0,l.jsx)("span",{className:"text-lg font-semibold",children:a}),(0,l.jsx)(o.A,{className:"".concat(i?"rotate-180":""," transition-rotate h-6 w-6 duration-[var(--fast)]")})]}),(0,l.jsx)("div",{style:{height:d},className:"overflow-hidden transition-[height] duration-[var(--slow)]",children:(0,l.jsx)("div",{ref:t,children:(0,l.jsx)("div",{className:"flex w-full flex-col",children:r.map((e,t)=>{var a;return(0,l.jsxs)("div",{onClick:()=>e.setShow(!e.show),className:"".concat(t===r.length-1?"mb-4":""," group flex cursor-pointer justify-between py-4"),children:[(0,l.jsx)(n.A,{type:"checkbox",checked:e.show,label:e.label,readOnly:!0}),(0,l.jsxs)("span",{children:["(",null!=(a=e.count)?a:0,")"]})]},t)})})})}),(0,l.jsx)("hr",{className:"-ml-4 flex w-[calc(100%+2rem)] text-[var(--border-main)]"})]})},K=e=>{var t,a;let[k,y]=(0,s.useState)(2),[A,K]=(0,s.useState)(!1),[U,T]=(0,s.useState)(null),[z,B]=(0,s.useState)([]),[L,H]=(0,s.useState)(null),[F,_]=(0,s.useState)([]),[V,$]=(0,s.useState)(!1),[G,P]=(0,s.useState)([]),[q,J]=(0,s.useState)(!1),[X,W]=(0,s.useState)(1),[Q,Y]=(0,s.useState)(5),[Z,ee]=(0,s.useState)(null),[et,ea]=(0,s.useState)("id"),[el,es]=(0,s.useState)("asc"),[en,er]=(0,s.useState)(""),[ei,ec]=(0,s.useState)([]),[eo,ed]=(0,s.useState)(null),[ex,eu]=(0,s.useState)([]),em=localStorage.getItem("token"),eh="https://ecommerce-9jo7.onrender.com",{notify:ef}=(0,i.d)(),eg=X*Q-Q,ep=Math.max(0,Math.min(Q,(null!=Z?Z:0)-eg)),ej=Math.max(0,Math.min(Q,ep)),ev=Math.max(1,Math.ceil((null!=Z?Z:0)/Q)),eb=(0,s.useRef)(null),ew=(0,s.useRef)(null),eN=(0,s.useRef)(null),ek=(0,s.useRef)(null),ey=(0,s.useRef)(null),[eS,eA]=(0,s.useState)(!1),eC=async function(e,t,a,l){let s=!(arguments.length>4)||void 0===arguments[4]||arguments[4];try{var n,r;s&&K(!0);let i=new URLSearchParams({page:String(e),pageSize:String(t),sortBy:a,sortOrder:l,search:en});ei.length>0&&ei.forEach(e=>{i.append("units",e.toString())}),null!==eo&&i.append("hasSubCategories",String(eo));let c=await fetch("".concat(eh,"/category?").concat(i.toString()),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(em)}});if(401===c.status)return void localStorage.removeItem("token");let o=await c.json();if(!c.ok)return void ef("error",o.message);B(Array.isArray(o.items)?o.items:[]),ee(null!=(n=o.totalCount)?n:0),T(null!=(r=o.counts)?r:null)}catch(e){}finally{s&&K(!1)}},eE=async e=>{try{let t=await fetch("".concat(eh,"/category/delete/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(em)}});if(401===t.status)return void localStorage.removeItem("token");let a=await t.json();if(!t.ok)return void ef("error",a.message);await eC(X,Q,et,el),ef("success","Kategori borttagen!",4e3)}catch(e){ef("error",String(e))}},eI=async()=>{try{let e=await fetch("".concat(eh,"/unit"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(em)}}),t=await e.json();e.ok?eu(t.items):ef("error",t.message)}catch(e){ef("error",String(e))}};(0,s.useEffect)(()=>{eI()},[]),(0,s.useEffect)(()=>{eC(X,Q,et,el)},[X,Q,et,el,en,ei,eo]),(0,s.useEffect)(()=>{W(1)},[en,eo,ei]);let eD=e=>{let t=e===et&&"asc"===el?"desc":"asc";ea(e),es(t),eC(X,Q,e,t,!1)},eO=e=>et!==e?(0,l.jsx)(d.A,{className:"h-6 w-6"}):"asc"===el?(0,l.jsx)(x.A,{className:"h-6 w-6"}):(0,l.jsx)(o.A,{className:"h-6 w-6"}),eR=z.map(e=>e.id),eM=z.map(e=>e.id),eK=eM.length>0&&eM.every(e=>F.includes(e)),eU=e=>{z.find(t=>t.id===e)&&(F.includes(e)?_(F.filter(t=>t!==e)):_([...F,e]))},eT=()=>{eK?_(F.filter(e=>!eM.includes(e))):_([...new Set([...F,...eM])])};(0,s.useEffect)(()=>{let e=()=>{let e=window.innerWidth,t=2;e>=640&&(t+=1),e>=1024&&(t+=1),y(t)};return e(),window.addEventListener("resize",e),()=>removeEventListener("resize",e)},[]);let ez=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];P(e),J(e=>!e)},eB=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;H(e),$(!0)},eL=e=>{let{visible:t,onClickEvent:a,label:s}=e;return(0,l.jsx)(l.Fragment,{children:t&&(0,l.jsxs)("button",{className:"".concat(b.Kt," group w-auto gap-2 px-4"),onClick:()=>{a(!1)},children:[(0,l.jsx)("span",{className:"".concat(D),children:s}),(0,l.jsx)(u.A,{className:"".concat(O)})]})})},eH=e=>{let{sortingItem:t,label:a,labelAsc:s,labelDesc:n,classNameAddition:r}=e;return(0,l.jsx)(c.A,{content:et===t&&"asc"===el?"Sortera "+s:"Sortera "+n,children:(0,l.jsx)("th",{className:"".concat(E," ").concat(r||""),onClick:()=>eD(t),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),eD(t))},tabIndex:0,"aria-sort":et===t?"asc"===el?"ascending":"descending":"none",children:(0,l.jsxs)("div",{className:"relative flex gap-2",children:[(0,l.jsx)("span",{className:"w-full truncate overflow-hidden text-ellipsis",children:a}),(0,l.jsx)("span",{className:"flex",children:eO(t)})]})})})},eF=e=>{let{children:t,classNameAddition:a}=e;return(0,l.jsx)("td",{className:"".concat(I," ").concat(a||""),children:(0,l.jsx)("div",{className:"truncate overflow-hidden text-ellipsis",children:t})})};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(S,{isOpen:V,onClose:()=>{$(!1),H(null)},categoryId:L,onCategoryUpdated:()=>{eC(X,Q,et,el)}}),(0,l.jsx)(r.A,{isOpen:q,onClose:()=>{ez(),P([])},onConfirm:async()=>{for(let e of G)await eE(e);J(!1),P([]),_([])}}),(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,l.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,l.jsx)(c.A,{content:"L\xe4gg till ny kategori",lgHidden:!0,children:(0,l.jsx)("button",{className:"".concat(b.$e," sm:w-56 sm:min-w-56"),onClick:()=>{eB()},onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),eB())},tabIndex:0,children:(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2 truncate",children:[(0,l.jsx)(p.A,{className:"h-6"}),(0,l.jsx)("span",{className:"hidden sm:block",children:"L\xe4gg till ny kategori"})]})})}),(0,l.jsx)(c.A,{content:0===F.length?"V\xe4lj en kategori":1===F.length?"Redigera kategori":"Du kan bara redigera en kategori i taget!",lgHidden:1===F.length,children:(0,l.jsx)("button",{className:"".concat(b.p9," sm:w-56 sm:min-w-56"),onClick:()=>{eB(F[0])},onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),eB(F[0]))},tabIndex:0,disabled:0===F.length||F.length>1,children:(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2 truncate",children:[(0,l.jsx)(j.A,{className:"h-6 min-h-6 w-6 min-w-6"}),(0,l.jsx)("span",{className:"hidden sm:block",children:"Redigera kategori"})]})})}),(0,l.jsx)(c.A,{content:0===F.length?"V\xe4lj en eller fler kategorier":"Ta bort kategori (".concat(F.length,")"),lgHidden:F.length>0,children:(0,l.jsx)("button",{className:"".concat(b.s9," 3xs:ml-auto lg:w-56 lg:min-w-56"),onClick:()=>ez(F),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),ez(F))},tabIndex:0,disabled:0===F.length,children:(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2 truncate",children:[(0,l.jsx)(v.A,{className:"h-6"}),(0,l.jsxs)("span",{className:"hidden lg:block",children:["Ta bort kategori",(0,l.jsx)("span",{children:F.length>0?" (".concat(F.length,")"):""})]})]})})})]}),(0,l.jsxs)("div",{className:"3xs:flex-nowrap flex flex-wrap justify-between gap-4",children:[(0,l.jsx)("div",{className:"flex w-full items-center gap-4",children:(0,l.jsx)("div",{className:"flex w-full items-center justify-start",children:(0,l.jsx)(n.A,{icon:(0,l.jsx)(m.A,{}),placeholder:"S\xf6k kategori",value:en,onChange:e=>er(String(e).toLowerCase())})})}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)(R,{filterRef:eb,label:"Underkategorier",breakpoint:"sm",filterData:[{label:"Har underkategorier",show:!0===eo,setShow:e=>ed(!!e||null),count:null!=(t=null==U?void 0:U.withSubCategories)?t:0},{label:"Inga underkategorier",show:!1===eo,setShow:e=>ed(!e&&null),count:null!=(a=null==U?void 0:U.withoutSubCategories)?a:0}]}),(0,l.jsx)(R,{filterRef:ew,label:"Enheter med \xe5tkomst",breakpoint:"ml",filterData:ex.map(e=>{var t,a;return{label:e.name,show:ei.includes(e.id),setShow:t=>{ec(a=>t?[...a,e.id]:a.filter(t=>t!==e.id))},count:null!=(a=null==U||null==(t=U.unitCounts)?void 0:t[e.name])?a:0}})}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("button",{className:"".concat(b.Kt," group xs:w-auto xs:px-4 gap-2"),onClick:()=>{eA(!0)},children:[(0,l.jsx)("span",{className:"".concat(D," xs:flex hidden"),children:"Alla filter"}),(0,l.jsx)(h.A,{className:"".concat(O)})]}),(0,l.jsx)(C.A,{triggerRef:eN,isOpen:eS,onClose:()=>eA(!1),label:"Alla filter",children:(0,l.jsxs)("div",{className:"flex h-full flex-col justify-between",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(M,{filterRef:ek,label:"Underkategorier",filterData:[{label:"Har underkategorier",show:!0===eo,setShow:e=>ed(!!e||null)},{label:"Inga underkategorier",show:!1===eo,setShow:e=>ed(!e&&null)}]}),(0,l.jsx)(M,{filterRef:ey,label:"Enheter med \xe5tkomst",filterData:ex.map(e=>({label:e.name,show:ei.includes(e.id),setShow:t=>{ec(a=>t?[...a,e.id]:a.filter(t=>t!==e.id))}}))})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-4 py-4 sm:flex-row",children:[(0,l.jsxs)("button",{onClick:()=>eA(!1),className:"".concat(b.$e," w-full"),children:["Visa"," ",(0,l.jsx)("span",{className:"font-normal",children:null!=Z?Z:0})]}),(0,l.jsx)("button",{onClick:()=>{ed(null),ec([])},className:"".concat(b.p9," w-full"),disabled:null===eo&&0===ei.length,children:"Rensa alla"})]})]})})]})]})]}),(null!==eo||ei.length>0)&&(0,l.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,l.jsx)("span",{className:"flex items-center font-semibold text-[var(--text-secondary)]",children:"Aktiva filter:"}),(0,l.jsx)(eL,{visible:!0===eo,onClickEvent:ed,label:"Har underkategorier"}),(0,l.jsx)(eL,{visible:!1===eo,onClickEvent:ed,label:"Inga underkategorier"}),ei.map(e=>{var t;let a=ex.find(t=>t.id===e);return(0,l.jsx)(eL,{visible:!0,onClickEvent:()=>ec(t=>t.filter(t=>t!==e)),label:null!=(t=null==a?void 0:a.name)?t:""},e)}),(0,l.jsx)("button",{className:"group w-auto cursor-pointer rounded-full px-4 transition-colors duration-[var(--fast)] hover:bg-[var(--bg-navbar-link)]",onClick:()=>{ed(null),ec([])},children:(0,l.jsx)("span",{className:"font-semibold text-[var(--accent-color)]",children:"Rensa alla"})})]})]}),(0,l.jsx)("div",{className:"flex w-full flex-col",children:(0,l.jsx)("div",{className:"flex w-full overflow-x-auto rounded border-1 border-[var(--border-main)]",children:(0,l.jsxs)("table",{className:"w-full table-fixed border-collapse",children:[(0,l.jsx)("thead",{className:"".concat(!e.isConnected||A?"pointer-events-none":""," bg-[var(--bg-grid-header)]"),children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"".concat(E," !w-[40px] !min-w-[40px] !border-l-0 !pl-2"),onClick:eT,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),eT())},children:(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsx)(n.A,{type:"checkbox",checked:eK,indeterminate:!eK&&eR.some(e=>F.includes(e)),readOnly:!0})})}),(0,l.jsx)(eH,{sortingItem:"name",label:"Namn",labelAsc:"namn \xd6-A",labelDesc:"namn A-\xd6"}),(0,l.jsx)(eH,{sortingItem:"units",label:"Enheter med \xe5tkomst",labelAsc:"enheter med \xe5tkomst \xd6-A",labelDesc:"enheter med \xe5tkomst A-\xd6",classNameAddition:"hidden lg:table-cell"}),(0,l.jsx)(eH,{sortingItem:"subCategories",label:"Underkategorier",labelAsc:"underkategorier \xd6-A",labelDesc:"underkategorier A-\xd6",classNameAddition:"hidden xs:table-cell"})]})}),(0,l.jsx)("tbody",{children:e.isConnected&&0!==z.length?A?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("tr",{className:"bg-[var(--bg-grid)]",children:(0,l.jsx)("td",{colSpan:k,style:{height:"".concat(40*ej,"px")},children:(0,l.jsx)("div",{className:"flex h-[40px]",children:(0,l.jsx)(w.A,{icon:"loading",content:"H\xe4mtar inneh\xe5ll...",sideMessage:(null!=ep?ep:0)<=2})})})})}):(0,l.jsx)(l.Fragment,{children:z.map((e,t)=>(0,l.jsxs)("tr",{className:t%2==0?"bg-[var(--bg-grid)]":"bg-[var(--bg-grid-zebra)]",children:[(0,l.jsx)("td",{className:"".concat(I," !w-[40px] !min-w-[40px] cursor-pointer !border-l-0 transition-[background] duration-[var(--fast)] hover:bg-[var(--bg-grid-header-hover)]"),onClick:()=>eU(e.id),onKeyDown:t=>{("Enter"===t.key||" "===t.key)&&(t.preventDefault(),eU(e.id))},children:(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsx)(n.A,{type:"checkbox",checked:F.includes(e.id),readOnly:!0})})})}),(0,l.jsx)(eF,{children:e.name}),(0,l.jsx)(eF,{classNameAddition:"hidden xs:table-cell",children:(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:e.units.map((e,t)=>(0,l.jsx)("span",{className:"flex h-6 items-center justify-center rounded-xl bg-[var(--bg-navbar-link)] px-4 text-sm font-semibold",children:e},t))})}),(0,l.jsx)(eF,{classNameAddition:"hidden lg:table-cell",children:(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:e.subCategories.map((e,t)=>(0,l.jsx)("span",{className:"flex h-6 items-center justify-center rounded-xl bg-[var(--accent-color)] px-4 text-sm font-semibold text-[var(--text-main-reverse)]",children:e},t))})})]},e.id))}):(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:k,className:"h-57",children:e.isConnected?(0,l.jsx)(w.A,{icon:"search",content:en||ei.length>0||null!==eo?"Inga kategorier kunde hittas med det s\xf6kkriteriet.":"Det finns inga kategorier."}):(0,l.jsx)(w.A,{icon:"server",content:"server"})})})})]})})}),(0,l.jsxs)("div",{className:"flex w-full flex-wrap justify-between gap-x-12 gap-y-4",children:[(0,l.jsxs)("span",{className:"flex w-[175.23px] text-[var(--text-secondary)]",children:["Visar ",(X-1)*Q+1,"-",Math.min(X*Q,null!=Z?Z:0)," av"," ",null!=Z?Z:0]}),(0,l.jsxs)("div",{className:"xs:w-auto flex w-full items-center",children:[(0,l.jsx)("button",{type:"button",onClick:()=>{_([]),W(e=>Math.max(e-1,1))},disabled:1===X,className:"".concat(b.U0),children:(0,l.jsx)(f.A,{className:"min-h-full min-w-full"})}),(0,l.jsx)("div",{className:"flex flex-wrap items-center justify-center",children:(()=>{let e=[];if(ev<=7){for(let t=1;t<=ev;t++)e.push(t);return e}if(X<=3){for(let t=1;t<=4;t++)e.push(t);e.push("..."),e.push(ev)}else if(X>=ev-2){e.push(1),e.push("...");for(let t=ev-3;t<=ev;t++)e.push(t)}else{e.push(1),e.push("...");for(let t=X-1;t<=X+1;t++)e.push(t);e.push("..."),e.push(ev)}return e})().map((e,t)=>"..."===e?(0,l.jsx)("span",{className:"flex px-2",children:"..."},t):(0,l.jsx)("button",{onClick:()=>{_([]),W(Number(e))},className:"".concat(X===e?"bg-[var(--accent-color)] text-[var(--text-main-reverse)]":"hover:text-[var(--accent-color)]"," ").concat(X===e&&e>=100?"px-5":""," flex max-w-7 min-w-7 cursor-pointer justify-center rounded-full px-1 text-lg transition-colors duration-[var(--fast)]"),children:e},t))}),(0,l.jsx)("button",{type:"button",onClick:()=>{_([]),W(e=>e<Math.max(1,Math.ceil((null!=Z?Z:0)/Q))?e+1:e)},disabled:X>=Math.ceil((null!=Z?Z:0)/Q),className:"".concat(b.U0),children:(0,l.jsx)(g.A,{className:"min-h-full min-w-full"})})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("span",{className:"",children:"Antal per sida:"}),(0,l.jsxs)("div",{className:"3xs:min-w-20",children:[(0,l.jsx)("div",{id:"portal-root"}),(0,l.jsx)(N.A,{options:[{label:"5",value:"5"},{label:"15",value:"15"},{label:"25",value:"25"}],value:String(Q),onChange:e=>{let t=Number(e),a=Math.ceil((null!=Z?Z:0)/t);Y(t),X>a&&W(a)}})]})]})]}),(0,l.jsxs)("div",{className:"flex w-full flex-col",children:[(0,l.jsx)("div",{className:"flex items-center rounded-t border-1 border-[var(--border-main)] bg-[var(--bg-grid-header)] px-3 py-2",children:(0,l.jsx)("span",{className:"truncate font-semibold",children:"Anv\xe4ndarinformation"})}),(0,l.jsx)("div",{className:"".concat(0===F.length||F.length>1?"items-center":""," flex max-h-96 min-h-80 overflow-x-auto rounded-b border-1 border-t-0 border-[var(--border-main)] p-4"),children:0===F.length?(0,l.jsx)(w.A,{icon:"category",content:"H\xe4r kan du se information om vald kategori. V\xe4lj en i tabellen ovan!"}):F.length>1?(0,l.jsx)(w.A,{icon:"beware",content:"Kan inte visa information om flera kategorier samtidigt."}):(0,l.jsx)("div",{className:"flex",children:z.filter(e=>e.id===F[0]).map(e=>(0,l.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Namn: "}),e.name]}),(0,l.jsxs)("div",{className:"".concat(e.units.length>0?"gap-2":""," flex flex-col"),children:[(0,l.jsxs)("div",{className:"".concat(e.units.length>0?"flex-col gap-2":""," flex"),children:[(0,l.jsx)("strong",{children:"Enheter med \xe5tkomst: "}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:e.units.length>0?e.units.map((e,t)=>(0,l.jsx)("span",{className:"flex h-6 items-center justify-center rounded-xl bg-[var(--bg-navbar-link)] px-4 text-sm font-semibold",children:e},t)):"\xa0-"})]}),(0,l.jsxs)("div",{className:"".concat(e.subCategories.length>0?"flex-col gap-2":""," flex"),children:[(0,l.jsx)("strong",{children:"Underkategorier: "}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:e.subCategories.length>0?e.subCategories.map((e,t)=>(0,l.jsx)("span",{className:"flex h-6 items-center justify-center rounded-xl bg-[var(--accent-color)] px-4 text-sm font-semibold text-[var(--text-main-reverse)]",children:e},t)):"\xa0-"})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Skapad: "}),new Date(e.creationDate).toLocaleString()," av"," ",e.createdBy]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Uppdaterad: "}),new Date(e.updateDate).toLocaleString()," av"," ",e.updatedBy]})]})]},e.id))})})]})]})]})}}}]);